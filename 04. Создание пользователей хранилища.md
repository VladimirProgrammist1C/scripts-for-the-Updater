# Скрипт для создания пользователей хранилища

Текст скрипта:

```@echo off
rem Создание пользователя разработчика Prog_01
%conf1c% /ConfigurationRepositoryF "D:\Repo1C\zup31\zup_dev_storage" /ConfigurationRepositoryN "Repo_Admin" /ConfigurationRepositoryP "" /ConfigurationRepositoryAddUser -User "Prog_01" -Pwd "" -Rights "LockObjects" -RestoreDeletedUser

if errorlevel 1 (
    echo Ошибка создания пользователя хранилища
::    pause
    exit /b 1
)
rem Пользователь хранилища Prog_01 успешно создан

rem Создание пользователя разработчика Prog_02
%conf1c% /ConfigurationRepositoryF "D:\Repo1C\zup31\zup_dev_storage" /ConfigurationRepositoryN "Repo_Admin" /ConfigurationRepositoryP "" /ConfigurationRepositoryAddUser -User "Prog_02" -Pwd "" -Rights "LockObjects" -RestoreDeletedUser

if errorlevel 1 (
    echo Ошибка создания пользователя хранилища
::    pause
    exit /b 1
)
rem Пользователь хранилища Prog_02 успешно создан
```
Пояснения:
* ```ConfigurationRepositoryF``` - например, ```D:\Repo1C\zup31\zup_dev_storage```
* ```ConfigurationRepositoryN``` - логин пользователя-администратора хранилища, например, ```Repo_Admin```
* ```ConfigurationRepositoryP``` - пароль пользователя-администратора хранилища, например, ```123qwerty456```
* ```ConfigurationRepositoryAddUser``` - команда создания пользователя хранилища конфигурации. Пользователь, от имени которого выполняется подключение к хранилищу, должен обладать административными правами. Если пользователь с указанным именем существует, то пользователь добавлен не будет. Допустимо использовать следующие параметры:
    * ```-User``` - имя создаваемого пользователя, например, ```Prog_01```
    * ```Pwd``` - пароль создаваемого пользователя, например, ```123qwerty456```
    * ```-Rights``` - Права пользователя. Возможные значения:
        * ```ReadOnly``` - право на просмотр,
        * ```LockObjects``` - право на захват объектов,
        * ```ManageConfigurationVersions``` - право на изменение состава версий
        * ```Administration``` - право на административные функции.
    * ```-RestoreDeletedUser``` - если обнаружен удаленный пользователь с таким же именем, он будет восстановлен.

    * ```-Extension <Имя расширения>``` - позволяет указать имя расширения, с хранилищем которого будет выполняться команда. Если параметр не указан, операция будет выполняться с хранилищем основной конфигурации.
